<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Node-RED in Hydroponics</title>

    <!-- icon -->
    <link rel="icon" href="images/hydroponicsProjectIcon.png" type="image/x-icon">
    
    <!-- box icons -->
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    
    <link rel="stylesheet" href="css/styles.css">
</head>
<body class="node-red">
    <!-- header design -->
    <header class="header">
        <a href="#" class="logo">ReFlow.</a>

        <nav class="navbar">
            <a href="hydroponics.html" class="active">Hydroponics</a>
            <a href="nodeRed_quiz.html" >Quiz</a>
        </nav>

        <div class="bx bx-moon" id="darkMode-icon"></div>
    </header>

    <section class="node-red" id="node-red">
        <div class="container">
            <div class="section">
                <div class="node-red-img">
                    <img src="images/node_red_resized.webp" alt="">
                </div>
                <div>
                    <h1>Introduction to Node-RED</h1>
                    <p>Node-RED is a flow-based development tool for visual programming, allowing users to connect hardware devices, APIs, and online services.</p>
                </div>
                <div class="node-red-content">
                    <h2>How Node-RED Works</h2>
                    <p>Node-RED provides a browser-based editor to create automation flows by connecting different nodes, making it easy to integrate sensors and microcontrollers like the ESP32.</p>
                    <h2>Benefits of Node-RED in Hydroponics</h2>
                    <ul>
                        <li>Automates data collection from sensors.</li>
                        <li>Controls water levels, pH balance, and lighting.</li>
                        <li>Visual monitoring and remote control.</li>
                    </ul>
                </div>
            </div>
        </div>
     </section>

     <section class="mqtt-node-red" id="mqtt-node-red">
        <div class="container">
            <div class="section">
                <div>
                    <h2>Connecting MQTT with Node-RED</h2>
                    <p>MQTT (Message Queuing Telemetry Transport) is a lightweight messaging protocol ideal for IoT communication. It allows devices like the ESP32 to publish sensor data to Node-RED in real time.</p>
                </div>
                <div class="node-red-img">
                    <img src="images/connect-to-broker_resized.png" alt="MQTT with Node-RED">
                </div>
                <div class="node-red-content">
                    <h2>How to Set It Up:</h2>
                    <ol>
                        <li>Install an MQTT broker like Mosquitto on your local server or use a cloud broker (e.g., HiveMQ).</li>
                        <li>Configure the ESP32 to connect to the broker and publish sensor data to a topic (e.g., <code>hydroponics/ec</code>).</li>
                        <li>In Node-RED, drag in an MQTT input node and subscribe to the same topic.</li>
                        <li>Connect the MQTT node to a debug or chart node to visualize data.</li>
                    </ol>
                    <h2>Why Use MQTT:</h2>
                    <ul>
                        <li>Efficient communication over low bandwidth.</li>
                        <li>Real-time updates from multiple sensors.</li>
                        <li>Supports two-way communication between devices and dashboards.</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>    

     <section class="WaterLevelSensor" id="WaterLevelSensor">
        <div class="container">
            <div class="section">
                <div class="node-red-img">
                    <img src="images/WaterLevelSensor_resized.png" alt="">
                </div>
                <div>
                    <h2>Water Level Sensor</h2>
                    <p>Ensures that the hydroponic system has enough water.</p>
                </div>
                <div class="node-red-content">
                    <h2>How to connect:</h2>
                    <ol>
                        <li>Attach the water level sensor to the side of the water tank.</li>
                        <li>Connect its signal wire to an analog or digital pin on the ESP32.</li>
                        <li>Power the sensor by connecting it to 3.3V/5V and ground.</li>
                    </ol>
                    <h2>How to use with Node-RED:</h2>
                    <ol>
                        <li>Program the ESP32 to read water level data and send it to Node-RED.</li>
                        <li>Use a bar graph in Node-RED to show water levels.</li>
                        <li>Set up an automated water pump control when levels get too low.</li>
                    </ol>
                </div>
            </div>
        </div>
     </section>

     <section class="ECSensor" id="ECSensor">
        <div class="container">
            <div class="section">
                <div>
                    <h2>EC Sensor</h2>
                    <p>This sensor measures the electrical conductivity (EC) of water to determine how many nutrients are present.</p>
                </div>
                 <div class="node-red-img">
                    <img src="images/ECSensor_resized.png" alt="">
                </div>
                <div class="node-red-content">
                    <h2>How to connect:</h2>
                    <ol>
                        <li>Attach the EC sensor probe to its signal board.</li>
                        <li>Connect the signal wire to an analog input on the ESP32.</li>
                        <li>Power the EC sensor by connecting it to 3.3V/5V and ground.</li>
                    </ol>
                    <h2>How to use with Node-RED:</h2>
                    <ol>
                        <li>Program the ESP32 to read EC values and send them to Node-RED via MQTT.</li>
                        <li>In Node-RED, create a visual graph to monitor changes over time.</li>
                        <li>Use function nodes to send alerts if the EC level is too high or too low.</li>
                    </ol>
                    </ul>
                </div>
            </div>
        </div>
     </section>

     <section class="WaterFlowSensor" id="WaterFlowSensor">
        <div class="container">
            <div class="section">
                <div class="node-red-img">
                    <img src="images/WaterFlowSensor_resized.png" alt="">
                </div>
                <div>
                    <h2>Water Flow Rate Sensor</h2>
                    <p>Measures the flow of water to monitor irrigation efficiency and detect blockages or leaks.</p>
                </div>
                <div class="node-red-content">
                    <h2>How to connect:</h2>
                    <ol>
                        <li>Install the water flow sensor inline with the water tubing or pipe.</li>
                        <li>Connect the sensor's signal (pulse) wire to a digital input pin on the ESP32.</li>
                        <li>Connect the sensor's power wires to 5V (or 3.3V if supported) and ground.</li>
                    </ol>
                    <h2>How to use with Node-RED:</h2>
                    <ol>
                        <li>Program the ESP32 to count pulses from the sensor to calculate flow rate (liters per minute).</li>
                        <li>Send the calculated flow rate data to Node-RED via MQTT, HTTP, or WebSocket.</li>
                        <li>Visualize the flow rate using a gauge or chart in Node-RED.</li>
                        <li>Set alerts in Node-RED if the flow rate drops below a set threshold (indicating a problem).</li>
                    </ol>
                </div>
            </div>
        </div>
     </section>   

     <section class="whatsapp-alerts" id="whatsapp-alerts">
        <div class="container">
            <div class="section">
                <div>
                    <h2>Sending WhatsApp Alerts in Node-RED</h2>
                    <p>You can configure Node-RED to send automated alerts to WhatsApp using third-party APIs like Twilio, CallMeBot, or WhatsApp Business API.</p>
                </div>
                <div class="node-red-img">
                    <img src="images/whatsappAlertNode.png" alt="WhatsApp Alerts">
                </div>
                <div class="node-red-content">
                    <h2>Steps to Integrate:</h2>
                    <ol>
                        <li>Create an account with a WhatsApp API provider (e.g., <a href="https://www.callmebot.com/">CallMeBot</a>).</li>
                        <li>Get your API key and phone number linked to WhatsApp.</li>
                        <li>In Node-RED, use the HTTP request node to send messages to the API endpoint.</li>
                        <li>Trigger the alert from a function node when sensor values go out of range.</li>
                    </ol>
                    <h2>Use Cases:</h2>
                    <ul>
                        <li>Notify users if EC or pH values exceed safe levels.</li>
                        <li>Alert when the water pump fails or tank is low.</li>
                        <li>Send daily summaries of hydroponic conditions.</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>
    
    <a href="#" class="top">Back to Top &#8593;</a>

    <!-- footer design-->

    <footer class="footer">
        <p>&copy; <span id="year"></span> Reflow. All rights reserved.</p>
    </footer>

    <script src="js/script.js"></script>
</body>
</html>